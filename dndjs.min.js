var dndjs=function(){var e=require("underscore"),t=function(e){var t=n(e),r=t.numberOfDies,i=t.typeOfDie,s={results:[],numberOfDies:r},o=function(e,t){return{dieType:e,result:t}};for(var u=0;u<r;u++){var a=Math.floor(Math.random()*i+1);typeof t.modifierAmount!==String&&(a+=t.modifierAmount);var f=i,l=new o(f,a);s.results.push(l)}return s},n=function(e){var t=e.split("d"),n=parseInt(t[0],10),r=parseInt(t[1],10),i=0;if(e.indexOf("+")!=-1||e.indexOf("-")!=-1){var s=e.split(r)[1];i=parseInt(s,10)}return{numberOfDies:n,typeOfDie:r,modifierAmount:i}},r=function(){var n=function(e,t,n,r,i,s){return{str:e,intel:t,dex:n,cha:r,wis:i,con:s}},r=[];for(var s=0;s<6;s++){var o=t("4d6"),u=i(o.results);stat=e.reduce(u,function(e,t){return e+t.result},0),r.push(stat)}return statSet=new n(r[0],r[1],r[2],r[3],r[4],r[5]),statSet},i=function(e){var t=e[0].result;for(var n=e.length-1;n>0;n--)e[n].result<t&&(t=e[n].result);for(var r=e.length-1;r>=0;r--)if(e[r].result==t){e.splice(e.indexOf(e[r]),1);break}return e};return{rollDice:t,generateStats:r}}();module.exports=dndjs;