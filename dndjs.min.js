var dndjs=function(){var e=require("underscore"),t=function(e){var t=n(e),r=t.numberOfDies,i=t.typeOfDie,s={results:[],numberOfDies:r},o=function(e,t){return{dieType:e,result:t}};for(var u=0;u<r;u++){var a=Math.floor(Math.random()*i+1);typeof t.modifierAmount!==String&&(a+=t.modifierAmount);var f=i,l=new o(f,a);s.results.push(l)}return s},n=function(e){var t=e.split("d"),n=parseInt(t[0],10),r=parseInt(t[1],10),i=0;if(e.indexOf("+")!=-1||e.indexOf("-")!=-1){var s=e.split(r)[1];i=parseInt(s,10)}return{numberOfDies:n,typeOfDie:r,modifierAmount:i}},r=function(e,t,n,r,i,s){return{str:e,intel:t,dex:n,cha:r,wis:i,con:s}},i=function(e){return[str,intel,dex,cha,wis,con]},s=function(){var n=[];for(var i=0;i<6;i++){var s=t("4d6"),o=u(s.results);stat=e.reduce(o,function(e,t){return e+t.result},0),n.push(stat)}return statSet=new r(n[0],n[1],n[2],n[3],n[4],n[5]),statSet},o=function(e){var t=function(){return Math.floor(Math.random()*5)},n=i(e),s=n.sort(function(){return.5-Math.random()}),o=new r(s[0],s[1],s[2],s[3],s[4],s[5]);return o},u=function(e){var t=e[0].result;for(var n=e.length-1;n>0;n--)e[n].result<t&&(t=e[n].result);for(var r=e.length-1;r>=0;r--)if(e[r].result==t){e.splice(e.indexOf(e[r]),1);break}return e};return{rollDice:t,generateStats:s,randomizeStatOrder:o}}();module.exports=dndjs;